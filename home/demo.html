<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>APEX - Its Time To Lock In</title>

  <style>
    :root {
      --dash-length: 46px;
      --dash-thickness: 3px;
      --dash-gap: 18px;
      --dash-color:rgb(255, 255, 255);
    

      --color-bg-main: radial-gradient(ellipse at center, #1ec5e6 0%, #0860b8 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
      background: var(--color-bg-main);
      overflow-x: hidden;
      position: relative;
      min-height: 300vh;
    }

    .container {
      width: 100%;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: sticky;
      top: 0;
    }

    .top-nav {
      position: absolute;
      top: 40px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      padding: 0 50px;
      z-index: 10;
    }
    .nav-item {
      color: rgba(255, 255, 255, 0.6);
      font-size: 16px;
      font-weight: 400;
      letter-spacing: 0.3px;
    }
    .nav-left {
      display: flex;
      gap: 60px;
    }

    .center-top {
      position: absolute;
      top: 40px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 10;
    }

    .benefits {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-bottom: 10px;
      color: rgba(255, 255, 255, 0.7);
      font-size: 14px;
      font-weight: 500;
    }
    .benefits::before {
      content: '';
      width: 14px;
      height: 14px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 2px;
      display: inline-block;
    }

    .main-title {
      font-size: 56px;
      font-weight: 700;
      color: white;
      letter-spacing: -0.5px;
      line-height: 1.1;
    }

    .circle-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 450px;
      height: 450px;
      z-index: 1;
    }

    .circle-ticks {
      position: relative;
      width: 100%;
      height: 100%;
      animation: circleRotate 8s ease-in-out infinite;
    }

    .tick {
      position: absolute;
      width: 2px;
      height: 20px;
      background: rgb(255, 255, 255);
      top: 0;
      left: 50%;
      transform-origin: 50% 225px;
      animation: tickRotate 3s ease-in-out infinite;
      opacity: 0.5;
    }
    /* @keyframes tickRotate {
      0%, 100% { opacity: 0.25; }
      50% { opacity: 0.6; }
    }
    @keyframes circleRotate {
      0%, 100% { transform: rotate(0deg); }
      50% { transform: rotate(15deg); }
    } */

    /* === REPLACED SIDE TICKS WITH CURVED DASHES === */
    .ticks-wrap {
      position: absolute;
      height: 80vh;
      display: flex;
      align-items: center;
      justify-content: center;
      /* width: 500px; */
      z-index: 0;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
    }
    .ticks-wrap.left-side { left: -400px; }
    .ticks-wrap.right-side { right: -400px; }

    .ticks {
      position: relative;
      width: var(--dash-length);
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-start;
      gap: var(--dash-gap);
      padding-top: calc(var(--dash-gap) / 2);
      box-sizing: border-box;
    }

.dash-tick {
  width: var(--dash-length);
  height: var(--dash-thickness);
  background: var(--dash-color);
  border-radius: 2px;
  position: relative;
  transform-origin: left center;
  opacity: 0.5; /* dim by default */
}

    /* Product Container */
    .product-container {
      position: relative;
      z-index: 5;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 0px;
      width: 100%;
      padding: 0 20px;
    }
    .product-images {
      position: relative;
      width: 300px;
      max-width: 90vw;
      height: auto;
      display: flex;
      align-items: center;
    }

    .product-box {
      width: 100%;
      height: auto;
      position: relative;
      z-index: 3;
      filter: drop-shadow(0 25px 50px rgba(0, 0, 0, 0.3));
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .product-box img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: contain;
      transition: transform 0.5s cubic-bezier(.7,.3,0,1), opacity 0.5s;
    }

    .background-img {
      position: absolute;
      left: 35%;
      top: 10%;
      width: 220px;
      height: 220px;
      z-index: 1;
      transform: translate(0%, -46%) scale(0.9);
      transform: rotate(15deg);
      opacity: 0;
      filter: blur(0.5px) contrast(110%);
      pointer-events: none;
      transition: opacity 0.55s cubic-bezier(.7,.3,0,1),
                  transform 0.6s cubic-bezier(.8,.4,.3,.94),
                  filter 0.45s;
    }
    .background-img img {
      width: 60%;
    }

    @media (max-width: 500px) {
      .main-title { font-size: 32px; }
      .product-images { width: 190px; }
      .circle-container { width: 250px; height: 250px; }
      .background-img { width: 110px; height: 110px; }
    }

    .benefit-label {
      position: absolute;
      z-index: 20;
      padding: 7px 22px;
      color: #fff;
      border: 1.5px solid rgba(255,255,255,0.75);
      border-radius: 22px;
      background: rgba(19,154,233, 0.13);
      font-size: 18px;
      opacity: 0;
      pointer-events: none;
      font-weight: 400;
      transition: opacity 0.5s;
    }
    .label-speed         { top: 23%; left: 25%; }
    .label-endurance     { top: 23%; right: 25%; }
    .label-reaction      { top: 46%; left: 19%; }
    .label-emotion       { top: 40%; right: 19%; }
    .label-vigilance     { top: 70%; left: 25%; }
    .label-energy        { top: 57%; right: 22%; }
    .label-concentration { top: 73%; right: 25%; }

    .side-counter {
      position: absolute;
      color: white;
      font-family: 'Poppins', sans-serif;
      text-align: left;
      opacity: 0;
    }

    .side-counter .counter-title {
      font-size: 16px;
      font-weight: 300;
      opacity: 0.8;
      letter-spacing: 0.5px;
    }

    .side-counter .counter-value {
      font-size: 26px;
      font-weight: 600;
      margin-top: 5px;
    }

    .left-counter {
      left: 10%;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
    }

    .right-counter {
      right: 10%;
      top: 50%;
      transform: translateY(-50%);
      text-align: right;
      display: flex;
      flex-direction: column;
    }


/* ===== RESPONSIVE STYLES ===== */

/* TABLET (768px - 1024px) */
@media (max-width: 1024px) {
  .top-nav {
    padding: 0 30px;
  }

  .nav-left {
    gap: 30px;
  }

  .main-title {
    font-size: 42px;
  }

  .circle-container {
    width: 380px;
    height: 380px;
  }

  .tick {
    transform-origin: 50% 190px;
  }

  .ticks-wrap.left-side { left: -320px; }
  .ticks-wrap.right-side { right: -320px; }

  .product-images {
    width: 260px;
  }

  .background-img {
    width: 180px;
    height: 180px;
  }

  .benefit-label {
    font-size: 14px;
    padding: 5px 16px;
  }

  .left-counter { left: 5%; }
  .right-counter { right: 5%; }
}

/* MOBILE LANDSCAPE & SMALL TABLETS (481px - 768px) */
@media (max-width: 768px) {
  body {
    min-height: 250vh;
  }

  .top-nav {
    padding: 0 20px;
    top: 20px;
  }

  .nav-left {
    gap: 20px;
  }

  .nav-item {
    font-size: 13px;
  }

  .center-top {
    top: 20px;
  }

  .main-title {
    font-size: 32px;
  }

  .benefits {
    font-size: 12px;
  }

  .benefits::before {
    width: 10px;
    height: 10px;
  }

  .circle-container {
    width: 300px;
    height: 300px;
  }

  .tick {
    height: 14px;
    transform-origin: 50% 150px;
  }

  /* Hide side curved dashes on tablet/mobile */
  .ticks-wrap {
    display: none;
  }

  .product-images {
    width: 220px;
  }

  .background-img {
    width: 150px;
    height: 150px;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) rotate(15deg);
  }

  .background-img img {
    width: 80%;
  }

  .benefit-label {
    font-size: 12px;
    padding: 4px 12px;
  }

  .label-speed         { top: 18%; left: 10%;  }
  .label-endurance     { top: 18%; right: 10%; }
  .label-reaction      { top: 42%; left: 5%;   }
  .label-emotion       { top: 38%; right: 5%;  }
  .label-vigilance     { top: 72%; left: 10%;  }
  .label-energy        { top: 62%; right: 8%;  }
  .label-concentration { top: 78%; right: 10%; }

  .side-counter {
    display: none !important;
  }
}

/* MOBILE PORTRAIT (up to 480px) */
@media (max-width: 480px) {
  body {
    min-height: 200vh;
  }

  .top-nav {
    padding: 0 15px;
    top: 15px;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }

  .nav-left {
    gap: 15px;
  }

  .nav-item {
    font-size: 11px;
  }

  .center-top {
    top: 60px;
  }

  .main-title {
    font-size: 26px;
  }

  .benefits {
    font-size: 11px;
  }

  .circle-container {
    width: 240px;
    height: 240px;
  }

  .tick {
    height: 12px;
    width: 1.5px;
    transform-origin: 50% 120px;
  }

  .product-images {
    width: 180px;
  }

  .background-img {
    width: 120px;
    height: 120px;
  }

  .benefit-label {
    font-size: 10px;
    padding: 3px 10px;
    border-radius: 16px;
  }

  .label-speed         { top: 15%; left: 5%;   }
  .label-endurance     { top: 15%; right: 5%;  }
  .label-reaction      { top: 40%; left: 2%;   }
  .label-emotion       { top: 36%; right: 2%;  }
  .label-vigilance     { top: 75%; left: 5%;   }
  .label-energy        { top: 65%; right: 5%;  }
  .label-concentration { top: 82%; right: 5%;  }
}

/* VERY SMALL SCREENS (up to 360px) */
@media (max-width: 360px) {
  .main-title {
    font-size: 22px;
  }

  .circle-container {
    width: 200px;
    height: 200px;
  }

  .tick {
    height: 10px;
    transform-origin: 50% 100px;
  }

  .product-images {
    width: 150px;
  }

  .background-img {
    width: 100px;
    height: 100px;
  }

  .benefit-label {
    font-size: 9px;
    padding: 2px 8px;
  }

  .nav-item {
    font-size: 10px;
  }
}








    
  </style>
</head>

<body>
  <div class="container">

    <div class="top-nav">
      <div class="nav-left">
        <div class="nav-item">Performance</div>
        <div class="nav-item">Caffeine</div>
      </div>
      <div class="nav-item">Precision</div>
    </div>

    <div class="center-top">
      <div class="benefits">Benefits</div>
      <h1 class="main-title">Its Time To Lock In</h1>
    </div>

    <div class="circle-container">
      <div class="circle-ticks" id="circleTicks"></div>

      <!-- NEW curved dash brackets -->
      <div class="ticks-wrap left-side">
        <div class="ticks" id="rightTicks"></div>
      </div>
      <div class="ticks-wrap right-side">
        <div class="ticks" id="leftTicks"></div>
      </div>

    </div>

    <div class="product-container">
      <div class="product-images">
        <div class="background-img" id="backgroundPop">
          <img src="/assests/czx 2.png" />
        </div>
        <div class="product-box">
          <img id="productImg" src="/assests/Apex 8  SLIM rever 1.png" alt="Apex Product" />
        </div>
      </div>

<div class="side-counter left-counter" style="display:flex; flex-direction:column; align-items:center; color:white;">
  <span class="counter-title" style="margin-bottom:4px;">Energy</span>

  <div class="counter-row" style="display:flex; align-items:baseline; gap:4px;">
    <span class="counter-value" id="leftCounter" style="font-size:32px; font-weight:700;">0</span>
    <span class="unit" style="font-size:18px; opacity:0.8;">mg</span>
  </div>
</div>

<div class="side-counter right-counter" style="display:flex; flex-direction:column; align-items:center; color:white;">
  <span class="counter-title" style="margin-bottom:4px;">Caffeine</span>

  <div class="counter-row" style="display:flex; align-items:baseline; gap:4px;">
    <span class="counter-value" id="rightCounter" style="font-size:32px; font-weight:700;">0</span>
    <span class="unit" style="font-size:18px; opacity:0.8;">mg</span>
  </div>
</div>


    </div>

    <div class="benefit-label label-vigilance">Vigilance</div>
    <div class="benefit-label label-reaction">Reaction Time</div>
    <div class="benefit-label label-speed">Speed</div>
    <div class="benefit-label label-endurance">Endurance</div>
    <div class="benefit-label label-emotion">Emotional Status</div>
    <div class="benefit-label label-energy">Energy</div>
    <div class="benefit-label label-concentration">Concentration</div>

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    // Circle ticks
    const circleTicks = document.getElementById('circleTicks');
    const tickCount = 72;
    for (let i = 0; i < tickCount; i++) {
      const tick = document.createElement('div');
      tick.className = 'tick';
      const angle = (360 / tickCount) * i;
      tick.style.transform = `rotate(${angle}deg)`;
      circleTicks.appendChild(tick);
    }

    // Curved vertical dashes (replaces side-ticks)
    function populateCurvedTicks(container, count, options = {}) {
      const length = options.length ?? 46;
      const thickness = options.thickness ?? 3;
      const gap = options.gap ?? 18;
      const curveStrength = options.curveStrength ?? 40;
      const rotateAmount = options.rotate ?? 8;
      const direction = options.direction ?? 1; // +1 or -1

      container.style.setProperty('--dash-length', length + 'px');
      container.style.setProperty('--dash-thickness', thickness + 'px');
      container.style.setProperty('--dash-gap', gap + 'px');

      container.innerHTML = '';

      for (let i = 0; i < count; i++) {
        const dash = document.createElement("div");
        dash.className = "dash-tick";

        const progress = i / (count - 1);
        const curve = Math.sin(progress * Math.PI);
        const xOffset = curve * curveStrength * direction;

        dash.style.transform =
          `translateX(${xOffset}px) rotate(${curve * rotateAmount * direction}deg)`;

        container.appendChild(dash);
      }
    }

    // left "("
    populateCurvedTicks(
      document.getElementById("leftTicks"),
      20,
      { length: 48, thickness: 2, gap: 25, curveStrength: 40, rotate: 8, direction: 1 }
    );
    // right ")"
    populateCurvedTicks(
      document.getElementById("rightTicks"),
      20,
      { length: 48, thickness: 2, gap: 25, curveStrength: 40, rotate: 8, direction: -1 }
    );

      gsap.registerPlugin(ScrollTrigger);

// Main product image shrinks
// Product image animation: starts after 100vh scroll
gsap.to("#productImg", {
  scrollTrigger: {
    trigger: ".product-container",
    start: "top+=100% center", // start after scrolling 100vh
    end: "bottom top",
    scrub: true,
  },
  scale: 0.8,
  opacity: 1,
  transformOrigin: "center center",
  ease: "power2.out",
});

// Background image morph animation
gsap.fromTo(
  "#backgroundPop",
  {
    scale: 0.7,
    opacity: 1,
    filter: "blur(12px) contrast(100%)",
    borderRadius: "60%",
  },
  {
    scrollTrigger: {
      trigger: ".product-container",
      start: "top+=100% center", // also after 100vh
      end: "bottom top",
      scrub: true,
    },
    scale: 1.25,
    opacity: 1,
    filter: "blur(0px) contrast(140%)",
    borderRadius: "16px",
    ease: "power1.inOut",
  }
);

// Labels appearing after background morph
const labelTl = gsap.timeline({
    scrollTrigger: {
        trigger: ".product-container",
        start: "top+=100% center",
        end: "top+=200% top",
        scrub: true
    }
});

labelTl.to(".benefit-label", {
    opacity: 1,
    duration: 1,
    ease: "none"
});


// Hide labels after 200vh
gsap.to(".benefit-label", {
    scrollTrigger: {
        trigger: ".product-container",
        start: "top+=300% center",
        end: "top+=400% center",
        scrub: true
    },
    opacity: 0,
    duration: 1
});
// Hide product image after 200vh
// More explicit with fromTo (optional)
gsap.fromTo("#productImg",
    { opacity: 1 },
    {
        scrollTrigger: {
            trigger: ".product-container",
            start: "top+=300% center",
            end: "bottom top",
            scrub: true,
        },
        opacity: 0,
    }
);

gsap.fromTo(".background-img",
    { scale: 1.25, rotation: 15 },
    {
        scrollTrigger: {
            trigger: ".product-container",
            start: "top+=300% center",
            end: "bottom top",
            scrub: true,
        },
        scale: 1.5,
        rotation: 0,
    }
);



gsap.to(".side-counter", {
    scrollTrigger: {
        trigger: ".product-container",
        start: "top+=300% center",
        end: "top+=400% top",
        scrub: true
    },
    opacity: 1
});

// Run counters once when side-counter becomes visible, after a short delay
const totalLeft = 100;   // Left counter max
const totalRight = 199;  // Right counter max
const tickDuration = 2.3; // Longest animation

// Create ONE synced timeline
const tl = gsap.timeline({ paused: true });

// COUNTERS
tl.to("#leftCounter", {
    innerText: totalLeft,
    duration: tickDuration,
    ease: "power1.out",
    snap: { innerText: 1 }
}, 0);

tl.to("#rightCounter", {
    innerText: totalRight,
    duration: tickDuration,
    ease: "power1.out",
    snap: { innerText: 1 }
}, 0);

// TICKS (light up bottom â†’ top)
const ticks = gsap.utils.toArray(".dash-tick");
const fromBottom = ticks.slice().reverse();

tl.to(fromBottom, {
    opacity: 1,
    duration: tickDuration,
    ease: "none",
    stagger: tickDuration / fromBottom.length, // PERFECT SYNC
}, 0);


// SCROLLTRIGGER
ScrollTrigger.create({
    trigger: ".product-container",
    start: "top+=300% center",

    onEnter: () => {
        // reset before playing
        gsap.set(fromBottom, { opacity: 0.2 });
        gsap.set("#leftCounter", { innerText: 0 });
        gsap.set("#rightCounter", { innerText: 0 });

        tl.restart();
    },

    onLeaveBack: () => {
        tl.pause(0);
        gsap.set(fromBottom, { opacity: 0.2 });
        gsap.set("#leftCounter", { innerText: 0 });
        gsap.set("#rightCounter", { innerText: 0 });
    }
});






(function(){
    const SCROLL_DELAY = 700;
    let isAnimating = false;
    let vh = window.innerHeight;
    let currentIndex = Math.round(window.scrollY / vh);

    function maxIndex() {
        return Math.max(0, Math.floor((document.documentElement.scrollHeight - 1) / vh));
    }
    function clamp(i){ return Math.min(Math.max(i, 0), maxIndex()); }

    function snapTo(index) {
        index = clamp(index);
        currentIndex = index;
        isAnimating = true;
        window.scrollTo({ top: index * vh, behavior: 'smooth' });
        setTimeout(() => { isAnimating = false; }, SCROLL_DELAY);
    }

    window.addEventListener('resize', () => {
        vh = window.innerHeight;
        // keep viewport aligned after resize
        snapTo(currentIndex);
    });

    // Wheel / mouse wheel
    window.addEventListener('wheel', (e) => {
        if (isAnimating) { e.preventDefault(); return; }
        e.preventDefault();
        if (e.deltaY > 0) snapTo(currentIndex + 1);
        else if (e.deltaY < 0) snapTo(currentIndex - 1);
    }, { passive: false });

    // Touch support (mobile)
    let touchStartY = 0;
    window.addEventListener('touchstart', (e) => {
        touchStartY = e.touches[0].clientY;
    }, { passive: true });

    window.addEventListener('touchend', (e) => {
        if (isAnimating) return;
        const dy = touchStartY - e.changedTouches[0].clientY;
        if (Math.abs(dy) < 40) return;
        if (dy > 0) snapTo(currentIndex + 1);
        else snapTo(currentIndex - 1);
    }, { passive: true });

    // Keyboard navigation
    window.addEventListener('keydown', (e) => {
        if (isAnimating) { e.preventDefault(); return; }
        if (e.code === 'ArrowDown' || e.code === 'PageDown') { e.preventDefault(); snapTo(currentIndex + 1); }
        if (e.code === 'ArrowUp' || e.code === 'PageUp')   { e.preventDefault(); snapTo(currentIndex - 1); }
        if (e.code === 'Home') { e.preventDefault(); snapTo(0); }
        if (e.code === 'End')  { e.preventDefault(); snapTo(maxIndex()); }
    });

    // initial align on load
    window.addEventListener('load', () => {
        vh = window.innerHeight;
        currentIndex = Math.round(window.scrollY / vh);
        snapTo(currentIndex);
    });
})();
  </script>
</body>
</html>
